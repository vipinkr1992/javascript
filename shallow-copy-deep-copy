import _ from "lodash";
// or
import cloneDeep from "lodash/cloneDeep";
const original = {
 name: "Vipin",
 skills: ["JS", "React"],
 address: {
   city: "Bangalore"
 }
};
const copy = _.cloneDeep(original);
copy.address.city = "Chennai";
console.log(original.address.city); // "Bangalore"
console.log(copy.address.city);     // "Chennai"

ğŸ‘‰ cloneDeep creates a completely independent copy, including nested objects & arrays.
 
const shallow = { ...original };

shallow.address.city = "Delhi";

console.log(original.address.city); // "Delhi" âŒ mutated
 
Shallow cloning only copies top-level references.Shallow cloning only copies top-level references.
 
What _.cloneDeep handles well

âœ… Nested objects

âœ… Arrays

âœ… Dates

âœ… RegExp

âœ… Maps & Sets

âœ… Circular references

 Example with circular reference:
 
const obj = {};

obj.self = obj;

const cloned = _.cloneDeep(obj);

console.log(cloned.self === cloned); // true
 
Performance note (important)

_.cloneDeep is expensive for large objects.

ğŸ‘‰ Use it only when needed, not inside:

	â€¢	tight loops

	â€¢	render functions

	â€¢	frequently called callbacksPerformance note (important)
 
const copy = structuredClone(original);
 
Using structuredClone (recommended when available)
 
âœ… Native

âœ… Faster

âŒ Not supported in very old browsers
 
Why JSON.parse(JSON.stringify()) is dangerous âŒ

Looks simple but breaks silently
 
const obj = {

  name: "Vipin",

  date: new Date(),

  undef: undefined,

  fn: () => "hi",

  map: new Map()

};

const copy = JSON.parse(JSON.stringify(obj));

console.log(copy);

Date Converted to string âŒ

undefined Removed âŒ

function Removed âŒ

Map / Set Lost âŒ

Circular refs âŒ Throws error
 
